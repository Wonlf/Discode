[{"/Users/zzoccom/Desktop/Discode/Client/src/page/Video/Room.tsx":"1","/Users/zzoccom/Desktop/Discode/Client/src/page/Register/Register.tsx":"2","/Users/zzoccom/Desktop/Discode/Client/src/page/Video/CreateRoom.tsx":"3","/Users/zzoccom/Desktop/Discode/Client/src/page/Login/Login.tsx":"4","/Users/zzoccom/Desktop/Discode/Client/src/index.tsx":"5","/Users/zzoccom/Desktop/Discode/Client/src/page/Chat/Chat.tsx":"6","/Users/zzoccom/Desktop/Discode/Client/src/components/Messages/Message/Message.tsx":"7","/Users/zzoccom/Desktop/Discode/Client/src/components/Input/Input.tsx":"8","/Users/zzoccom/Desktop/Discode/Client/src/components/Messages/Messages.tsx":"9","/Users/zzoccom/Desktop/Discode/Client/src/components/Sidebar/Sidebar.tsx":"10","/Users/zzoccom/Desktop/Discode/Client/src/App.tsx":"11","/Users/zzoccom/Desktop/Discode/Client/src/page/Friends/Friends.tsx":"12","/Users/zzoccom/Desktop/Discode/Client/src/components/ControlBox/ControlBox.tsx":"13"},{"size":3897,"mtime":1607585636752,"results":"14","hashOfConfig":"15"},{"size":4273,"mtime":1607996648022,"results":"16","hashOfConfig":"15"},{"size":2556,"mtime":1607475612265,"results":"17","hashOfConfig":"15"},{"size":2731,"mtime":1608684818724,"results":"18","hashOfConfig":"15"},{"size":327,"mtime":1608256388479,"results":"19","hashOfConfig":"15"},{"size":5956,"mtime":1608623361518,"results":"20","hashOfConfig":"15"},{"size":1475,"mtime":1608177482654,"results":"21","hashOfConfig":"15"},{"size":505,"mtime":1608021196908,"results":"22","hashOfConfig":"15"},{"size":302,"mtime":1608184024948,"results":"23","hashOfConfig":"15"},{"size":4889,"mtime":1608617267695,"results":"24","hashOfConfig":"15"},{"size":2684,"mtime":1608280486182,"results":"25","hashOfConfig":"15"},{"size":10122,"mtime":1608625354187,"results":"26","hashOfConfig":"15"},{"size":4832,"mtime":1608685292023,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},"viaunk",{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":21,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/zzoccom/Desktop/Discode/Client/src/page/Video/Room.tsx",["59","60"],"import React, { useEffect, useRef, useState } from \"react\";\n//import { Link } from 'react-router-dom';\nimport io from \"socket.io-client\";\nimport Peer from \"simple-peer\";\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n    padding: 20px;\n    display: flex;\n    height: 100vh;\n    width: 90%;\n    margin: auto;\n    flex-wrap: wrap;\n`;\n\nconst StyledVideo = styled.video`\n    height: 40%;\n    width: 50%;\n`;\n\nconst Video = (props) => {\n    const ref:any = useRef();\n\n    useEffect(() => {\n        props.peer.on(\"stream\", stream => {\n            ref.current.srcObject = stream;\n        })\n    }, []);\n\n    return (\n        <StyledVideo playsInline autoPlay ref={ref} />\n    );\n}\n\n\nconst videoConstraints = {\n    height: window.innerHeight / 2,\n    width: window.innerWidth / 2\n};\n\nconst Room = (props) => {\n    const [peers, setPeers] = useState([]);\n    const socketRef:any = useRef();\n    const userVideo:any = useRef();\n    const peersRef:any = useRef([]);\n    const roomID = document.URL.split('/')[5];\n\n    useEffect(() => {\n        \n        socketRef.current = io.connect(\"http://127.0.0.1:9999\");\n        \n        navigator.mediaDevices.getUserMedia({ video: videoConstraints, audio: true }).then(stream => {\n            userVideo.current.srcObject = stream;\n\n            socketRef.current.emit(\"join room\", roomID) //문제는 여기\n      \n\n            socketRef.current.on(\"all users\", users => { //여기서부터 작동 안됨\n\n                const peers = [];\n                users.forEach(userID => {\n                    const peer = createPeer(userID, socketRef.current.id, stream);\n                    peersRef.current.push({\n                        peerID: userID,\n                        peer,\n                    })\n                    peers.push(peer);\n                })\n                setPeers(peers);\n            })\n\n            socketRef.current.on(\"user joined\", payload => {\n             \n                const peer = addPeer(payload.signal, payload.callerID, stream);\n                peersRef.current.push({\n                    peerID: payload.callerID,\n                    peer,\n                })\n\n                setPeers(users => [...users, peer]);\n            });\n\n            socketRef.current.on(\"receiving returned signal\", payload => {\n                const item = peersRef.current.find(p => p.peerID === payload.id);\n                item.peer.signal(payload.signal);\n            });\n        })\n    }, []);\n\n    function createPeer(userToSignal, callerID, stream) {\n        const peer = new Peer({\n            initiator: true,\n            trickle: false,\n            stream,\n        });\n\n        peer.on(\"signal\", signal => {\n            socketRef.current.emit(\"sending signal\", { userToSignal, callerID, signal })\n        })\n\n        return peer;\n    }\n\n    function addPeer(incomingSignal, callerID, stream) {\n        const peer = new Peer({\n            initiator: false,\n            trickle: false,\n            stream,\n        })\n\n        peer.on(\"signal\", signal => {\n            socketRef.current.emit(\"returning signal\", { signal, callerID })\n        })\n\n        peer.signal(incomingSignal);\n\n        return peer;\n    }\n\n//     function stopBothVideoAndAudio(stream) {\n//     stream.getTracks().forEach(function(track) {\n//         if (track.readyState === 'live') {\n//             track.stop();\n//         }\n//     });\n// }\n\n    return (\n      \n        <Container>\n          <a href=\"/\" style={{ textDecoration: 'none' }}>\n                <button className={'wbutton'} >\n                  홈으로\n                </button>\n            </a>\n\n          \n            <StyledVideo muted ref={userVideo} autoPlay playsInline />\n            {peers.map((peer, index) => {\n                return (\n                    <Video key={index} peer={peer} />\n                );\n            })}\n        </Container>\n    );\n};\n\nexport default Room;\n","/Users/zzoccom/Desktop/Discode/Client/src/page/Register/Register.tsx",["61","62"],"import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Register.scss'\nimport { createGlobalStyle } from 'styled-components';\nimport { useForm } from 'react-hook-form';\n//import axios from \"axios\";\n\n\n\nfunction Register() {\n\n  const { register, handleSubmit } = useForm();\n\n  function onSubmit(data) {\n  \n    const pwdPattern = /^[a-z0-9~!@#$%^&*()_+|<>?:{}]{8,16}/;\n    const nickPattern = /^[a-zA-Z/0-9[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]{5,15}/;\n    const namePattern = /^[a-zA-Z/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/;\n    \n    \n \n\n      if(!pwdPattern.test(data.pwd)) {\n\n        alert(\"비밀번호는 영문 대문자, 특수문자, 숫자 8~16글자입니다. \")\n        return;\n      }\n      if(!nickPattern.test(data.nickname)) {\n\n        alert(\"닉네임은 영문, 한글, 숫자 5~15글자입니다.\")\n        return;\n      }\n      if(!namePattern.test(data.lastname)) {\n\n        alert(\"이름은 영어와 한글만 들어갈수있습니다.\")\n        return;\n      }\n      if(!namePattern.test(data.fisrtname)) {\n\n        alert(\"성은 영어와 한글만 들어갈수있습니다.\")\n        return;\n      }\n      \n\n      // axios({\n      //   url: '',\n      //   method: 'post',\n      //   data: {\n      //     query: `\n      //       query PostsForAuthor {\n      //         author(id: 1) {\n      //           ${data}\n      //           }\n      //         }\n      //       `\n      //   }\n      // }).then((result) => {\n      //   console.log(result.data)\n      // });\n\n    //GraphQL 들어가는 부분\n  }\n\n\n  return (\n    \n              \n              // <Form onSubmit={handleSubmit(onSubmit)}>\n                \n              //     <input type=\"text\" name=\"id\" placeholder=\"Email\" ref={register}/>\n\t\t\t        //     <input type=\"password\" name=\"pwd\" placeholder=\"Password\" ref={register}/>\n              //     <input type=\"text\" name=\"nickname\" placeholder=\"NickName\" ref={register}/>\n              //     <input type=\"text\" name=\"lastname\" placeholder=\"LastName\" ref={register}/>\n              //     <input type=\"text\" name=\"firstname\" placeholder=\"FirstName\" ref={register}/>\n            \n                \n              //     <br/>\n                \n              //       <button type=\"submit\" id=\"login-button\">\n              //         회원가입\n              //         </button>\n\n              //       <br/>\n              //       <br/>  \n                    \n              //         <Link to=\"/\" style={{ textDecoration: 'none' }}>\n              //             <button>\n              //               로그인하기\n              //             </button>\n              //         </Link>\n          \n                \n              // </Form>\n\n            <div id=\"container\">\n        <div id=\"inviteContainerR\">\n          <div className=\"acceptContainer loadIn\">\n            <form onSubmit={handleSubmit(onSubmit)}>\n              <h1 className=\"loadIn\">계정 만들기</h1>\n              <div className=\"formContainer\">\n\n                <div className=\"formDiv loadIn\">\n                  <p>이메일</p>\n                  <input type=\"email\" name=\"email\" ref={register}/>\n                </div>\n\n                <div className=\"formDiv loadIn\">\n                  <p>비밀번호</p>\n                  <input type=\"password\" name=\"pwd\" ref={register} />\n                </div>\n\n                <div className=\"formDiv loadIn\">\n                  <p>닉네임</p>\n                  <input type=\"input\" name=\"nickname\" ref={register} />\n                </div>\n\n                <div className=\"formDiv loadIn\">\n                  <p>성</p>\n                  <input type=\"input\" name=\"lastname\" ref={register} />\n                </div>\n                \n                <div className=\"formDiv loadIn\">\n                  <p>이름</p>\n                  <input type=\"input\" name=\"fisrtname\" ref={register} />\n                </div>\n\n                <div className=\"formDiv loadIn\" >\n                  <button className=\"acceptBtn\" type=\"submit\">Register</button>\n                  <span className=\"register\">계정이 있으신가요?<Link to=\"/\">로그인</Link></span>\n                </div>\n\n              </div>\n            </form>\n          </div>\n        </div>\n        </div>\n          \n  );\n}\n\n\n\n\n\n\nexport default Register;\n\n","/Users/zzoccom/Desktop/Discode/Client/src/page/Video/CreateRoom.tsx",[],"/Users/zzoccom/Desktop/Discode/Client/src/page/Login/Login.tsx",[],"/Users/zzoccom/Desktop/Discode/Client/src/index.tsx",[],["63","64"],"/Users/zzoccom/Desktop/Discode/Client/src/page/Chat/Chat.tsx",["65","66","67","68","69","70"],"/Users/zzoccom/Desktop/Discode/Client/src/components/Messages/Message/Message.tsx",["71","72"],"import React from 'react';\n\nimport './Message.css';\n\nimport ReactEmoji from 'react-emoji';\n\nconst Message = ({ message: { text, user }, name }) => {\n\n  let today = new Date();   \n\n  let year = today.getFullYear(); // 년도\n  let month = today.getMonth() + 1;  // 월\n  let date = today.getDate();  // 날짜\n  let day = today.getDay();  // 요일\n\n  let isSentByCurrentUser = false;\n\n  const trimmedName = name.trim().toLowerCase();\n\n  if(user === trimmedName) {\n    isSentByCurrentUser = true;\n  }\n\n  return (\n    isSentByCurrentUser\n      ? (\n        <div className=\"messageContainer justifyStart\">\n          <img src=\"https://discord.com/assets/322c936a8c8be1b803cd94861bdfa868.png\" aria-hidden=\"true\" className=\"avatar\" alt=\" \"/>  \n          <div className=\"messageBox\">\n            <p className=\"sentText\">{trimmedName} <span className=\"time_set\">{year}.{month}.{date}.</span></p>\n            <p className=\"messageText\">{text}</p>\n          </div>\n        </div>\n        )\n        : (\n          <div className=\"messageContainer justifyStart\">\n            <img src=\"https://discord.com/assets/322c936a8c8be1b803cd94861bdfa868.png\" aria-hidden=\"true\" className=\"avatar\" alt=\" \"/>\n            <div className=\"messageBox\">\n              <p className=\"sentText\">{user} <span className=\"time_set\">{year}.{month}.{date}.</span></p>\n              <p className=\"messageText\">{(text)}</p>\n            </div>\n            \n          </div>\n        )\n  );\n}\n\nexport default Message;","/Users/zzoccom/Desktop/Discode/Client/src/components/Input/Input.tsx",[],["73","74"],"/Users/zzoccom/Desktop/Discode/Client/src/components/Messages/Messages.tsx",[],"/Users/zzoccom/Desktop/Discode/Client/src/components/Sidebar/Sidebar.tsx",["75"],"/Users/zzoccom/Desktop/Discode/Client/src/App.tsx",["76","77"],"/Users/zzoccom/Desktop/Discode/Client/src/page/Friends/Friends.tsx",["78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98"],"/Users/zzoccom/Desktop/Discode/Client/src/components/ControlBox/ControlBox.tsx",["99","100","101"],{"ruleId":"102","severity":1,"message":"103","line":28,"column":8,"nodeType":"104","endLine":28,"endColumn":10,"suggestions":"105"},{"ruleId":"102","severity":1,"message":"106","line":88,"column":8,"nodeType":"104","endLine":88,"endColumn":10,"suggestions":"107"},{"ruleId":"108","severity":1,"message":"109","line":1,"column":17,"nodeType":"110","messageId":"111","endLine":1,"endColumn":25},{"ruleId":"108","severity":1,"message":"112","line":4,"column":10,"nodeType":"110","messageId":"111","endLine":4,"endColumn":27},{"ruleId":"113","replacedBy":"114"},{"ruleId":"115","replacedBy":"116"},{"ruleId":"108","severity":1,"message":"117","line":12,"column":8,"nodeType":"110","messageId":"111","endLine":12,"endColumn":15},{"ruleId":"108","severity":1,"message":"118","line":14,"column":8,"nodeType":"110","messageId":"111","endLine":14,"endColumn":18},{"ruleId":"108","severity":1,"message":"119","line":27,"column":10,"nodeType":"110","messageId":"111","endLine":27,"endColumn":14},{"ruleId":"108","severity":1,"message":"120","line":28,"column":10,"nodeType":"110","messageId":"111","endLine":28,"endColumn":15},{"ruleId":"102","severity":1,"message":"121","line":45,"column":6,"nodeType":"104","endLine":45,"endColumn":57,"suggestions":"122"},{"ruleId":"102","severity":1,"message":"123","line":45,"column":17,"nodeType":"124","endLine":45,"endColumn":56},{"ruleId":"108","severity":1,"message":"125","line":5,"column":8,"nodeType":"110","messageId":"111","endLine":5,"endColumn":18},{"ruleId":"108","severity":1,"message":"126","line":14,"column":7,"nodeType":"110","messageId":"111","endLine":14,"endColumn":10},{"ruleId":"113","replacedBy":"127"},{"ruleId":"115","replacedBy":"128"},{"ruleId":"129","severity":1,"message":"130","line":48,"column":11,"nodeType":"131","endLine":48,"endColumn":130},{"ruleId":"108","severity":1,"message":"132","line":61,"column":14,"nodeType":"110","messageId":"111","endLine":61,"endColumn":25},{"ruleId":"102","severity":1,"message":"133","line":81,"column":8,"nodeType":"104","endLine":81,"endColumn":30,"suggestions":"134"},{"ruleId":"108","severity":1,"message":"135","line":1,"column":27,"nodeType":"110","messageId":"111","endLine":1,"endColumn":36},{"ruleId":"108","severity":1,"message":"136","line":2,"column":8,"nodeType":"110","messageId":"111","endLine":2,"endColumn":19},{"ruleId":"108","severity":1,"message":"137","line":3,"column":8,"nodeType":"110","messageId":"111","endLine":3,"endColumn":10},{"ruleId":"108","severity":1,"message":"138","line":4,"column":8,"nodeType":"110","messageId":"111","endLine":4,"endColumn":22},{"ruleId":"108","severity":1,"message":"139","line":8,"column":8,"nodeType":"110","messageId":"111","endLine":8,"endColumn":16},{"ruleId":"108","severity":1,"message":"140","line":10,"column":8,"nodeType":"110","messageId":"111","endLine":10,"endColumn":13},{"ruleId":"108","severity":1,"message":"117","line":12,"column":8,"nodeType":"110","messageId":"111","endLine":12,"endColumn":15},{"ruleId":"108","severity":1,"message":"118","line":14,"column":8,"nodeType":"110","messageId":"111","endLine":14,"endColumn":18},{"ruleId":"108","severity":1,"message":"141","line":19,"column":7,"nodeType":"110","messageId":"111","endLine":19,"endColumn":15},{"ruleId":"108","severity":1,"message":"142","line":21,"column":5,"nodeType":"110","messageId":"111","endLine":21,"endColumn":11},{"ruleId":"108","severity":1,"message":"143","line":26,"column":10,"nodeType":"110","messageId":"111","endLine":26,"endColumn":14},{"ruleId":"108","severity":1,"message":"144","line":26,"column":16,"nodeType":"110","messageId":"111","endLine":26,"endColumn":23},{"ruleId":"108","severity":1,"message":"119","line":27,"column":10,"nodeType":"110","messageId":"111","endLine":27,"endColumn":14},{"ruleId":"108","severity":1,"message":"145","line":27,"column":16,"nodeType":"110","messageId":"111","endLine":27,"endColumn":23},{"ruleId":"108","severity":1,"message":"120","line":28,"column":10,"nodeType":"110","messageId":"111","endLine":28,"endColumn":15},{"ruleId":"108","severity":1,"message":"146","line":28,"column":17,"nodeType":"110","messageId":"111","endLine":28,"endColumn":25},{"ruleId":"108","severity":1,"message":"147","line":29,"column":10,"nodeType":"110","messageId":"111","endLine":29,"endColumn":17},{"ruleId":"108","severity":1,"message":"148","line":29,"column":19,"nodeType":"110","messageId":"111","endLine":29,"endColumn":29},{"ruleId":"108","severity":1,"message":"149","line":30,"column":10,"nodeType":"110","messageId":"111","endLine":30,"endColumn":18},{"ruleId":"108","severity":1,"message":"150","line":30,"column":20,"nodeType":"110","messageId":"111","endLine":30,"endColumn":31},{"ruleId":"108","severity":1,"message":"151","line":57,"column":9,"nodeType":"110","messageId":"111","endLine":57,"endColumn":20},{"ruleId":"152","severity":1,"message":"153","line":19,"column":13,"nodeType":"131","endLine":19,"endColumn":84},{"ruleId":"152","severity":1,"message":"153","line":22,"column":13,"nodeType":"131","endLine":22,"endColumn":88},{"ruleId":"152","severity":1,"message":"153","line":25,"column":13,"nodeType":"131","endLine":25,"endColumn":92},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.peer'. Either include it or remove the dependency array.","ArrayExpression",["154"],"React Hook useEffect has a missing dependency: 'roomID'. Either include it or remove the dependency array.",["155"],"@typescript-eslint/no-unused-vars","'Fragment' is defined but never used.","Identifier","unusedVar","'createGlobalStyle' is defined but never used.","no-native-reassign",["156"],"no-negated-in-lhs",["157"],"'Sidebar' is defined but never used.","'ControlBox' is defined but never used.","'room' is assigned a value but never used.","'users' is assigned a value but never used.","React Hook useEffect has an unnecessary dependency: 'ENDPOINT'. Either exclude it or remove the dependency array. Outer scope values like 'ENDPOINT' aren't valid dependencies because mutating them doesn't re-render the component.",["158"],"React Hook useEffect has a complex expression in the dependency array. Extract it to a separate variable so it can be statically checked.","MemberExpression","'ReactEmoji' is defined but never used.","'day' is assigned a value but never used.",["156"],["157"],"jsx-a11y/role-supports-aria-props","The attribute aria-selected is not supported by the role button.","JSXOpeningElement","'currentPath' is assigned a value but never used.","React Hook useEffect has an unnecessary dependency: 'window.location.hash'. Either exclude it or remove the dependency array. Outer scope values like 'window.location.hash' aren't valid dependencies because mutating them doesn't re-render the component.",["159"],"'useEffect' is defined but never used.","'queryString' is defined but never used.","'io' is defined but never used.","'ScrollToBottom' is defined but never used.","'Messages' is defined but never used.","'Input' is defined but never used.","'ENDPOINT' is assigned a value but never used.","'socket' is defined but never used.","'name' is assigned a value but never used.","'setName' is assigned a value but never used.","'setRoom' is assigned a value but never used.","'setUsers' is assigned a value but never used.","'message' is assigned a value but never used.","'setMessage' is assigned a value but never used.","'messages' is assigned a value but never used.","'setMessages' is assigned a value but never used.","'sendMessage' is assigned a value but never used.","jsx-a11y/no-redundant-roles","The element button has an implicit role of button. Defining this explicitly is redundant and should be avoided.",{"desc":"160","fix":"161"},{"desc":"162","fix":"163"},"no-global-assign","no-unsafe-negation",{"desc":"164","fix":"165"},{"desc":"164","fix":"166"},"Update the dependencies array to be: [props.peer]",{"range":"167","text":"168"},"Update the dependencies array to be: [roomID]",{"range":"169","text":"170"},"Update the dependencies array to be: []",{"range":"171","text":"172"},{"range":"173","text":"172"},[614,616],"[props.peer]",[2430,2432],"[roomID]",[1033,1084],"[]",[2029,2051]]